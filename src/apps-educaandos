#!/bin/bash

#Variables
#
gitfolder=/home/$USER/guadalinex
gitguadalinex=https://github.com/aosucas499/guadalinex

# Funci贸n para descargar repositorio en caso de que no exista en el sistema.
# Por ejemplo, en el primer inicio.

function descargarRepo {

	if [ -d "$gitfolder" ]; then
		updateRepo
	else
		cd /home/$USER
		notify-send "Descargando apps-guadalinex-20"
		git clone $gitguadalinex
	fi
			
}



# Funci贸n para actualizar apps-guadalinex-20 
#

function updateRepo {

	cd /home/$USER/guadalinex
	if git diff-index --quiet HEAD --; then
		echo "Repo github presente y actualizado"
	else
		echo ""
		echo "Repo desactualizado, actualizando apps-guadalinex-20"
		echo ""
		notify-send "Actualizando apps-guadalinex-20"
		cd /home/$USER
		rm -r guadalinex
    		git clone $gitguadalinex
	fi
}

# Funci贸n que lanza la aplicaci贸n apps-guadalinex-20

function execRepo {
	sh -c $gitfolder/apps-guadalinex-20
	
}

# Variables a ejecutar en el script
#

descargarRepo
execRepo
